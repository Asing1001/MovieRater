webpackJsonp([0],{0:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(28),a=n(83),s=n(73),l=n(221);n(506);var u=function(e){function Root(){return null!==e&&e.apply(this,arguments)||this}return r(Root,e),Root.prototype.render=function(){return o.createElement(i.Router,{history:s.default()},l.default)},Root}(o.Component),c=document.getElementById("app");a.render(o.createElement(u,null),c)},221:function(e,t,n){"use strict";var r=n(1),o=n(28),i=n(222),a=n(377);Object.defineProperty(t,"__esModule",{value:!0}),t.default=r.createElement(o.Route,{component:i.default},r.createElement(o.Route,{path:"/",component:a.default},r.createElement(o.Route,{path:"/movie/:id",component:a.default})))},222:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(223),a=n(310),s=n(371);s();var l=function(e){function App(t){var n=e.call(this,t)||this;return n.muiTheme=a.default({userAgent:navigator.userAgent}),n}return r(App,e),App.prototype.render=function(){return o.createElement(i.default,{muiTheme:this.muiTheme},this.props.children)},App}(o.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},371:function(e,t,n){var r=(n(7),n(372)),o=!1;e.exports=function(e){e=e||{};var t=e.shouldRejectClick||r;o=!0,n(93).injection.injectEventPluginsByName({TapEventPlugin:n(373)(t)})}},372:function(e,t){e.exports=function(e,t){if(e&&t-e<750)return!0}},373:function(e,t,n){"use strict";function getAxisCoordOfEvent(e,t){var n=s.extractSingleTouch(t);return n?n[e.page]:e.page in t?t[e.page]:t[e.client]+l[e.envScroll]}function getDistance(e,t){var n=getAxisCoordOfEvent(v.x,t),r=getAxisCoordOfEvent(v.y,t);return Math.pow(Math.pow(n-e.x,2)+Math.pow(r-e.y,2),.5)}function createTapEventPlugin(e){return{tapMoveThreshold:h,ignoreMouseThreshold:f,eventTypes:T,extractEvents:function(t,n,r,o){if(!c(t)&&!p(t))return null;if(d(t))y=x();else if(e(y,x()))return null;var s=null,l=getDistance(m,r);return p(t)&&l<h&&(s=a.getPooled(T.touchTap,n,r,o)),c(t)?(m.x=getAxisCoordOfEvent(v.x,r),m.y=getAxisCoordOfEvent(v.y,r)):p(t)&&(m.x=0,m.y=0),i.accumulateTwoPhaseDispatches(s),s}}}var r=n(374),o=n(95),i=n(92),a=n(121),s=n(375),l=n(122),u=n(376),c=(r.topLevelTypes,o.isStartish),p=o.isEndish,d=function(e){var t=["topTouchCancel","topTouchEnd","topTouchStart","topTouchMove"];return t.indexOf(e)>=0},h=10,f=750,m={x:null,y:null},y=null,v={x:{page:"pageX",client:"clientX",envScroll:"currentPageScrollLeft"},y:{page:"pageY",client:"clientY",envScroll:"currentPageScrollTop"}},g=["topTouchStart","topTouchCancel","topTouchEnd","topTouchMove"],b=["topMouseDown","topMouseMove","topMouseUp"].concat(g),T={touchTap:{phasedRegistrationNames:{bubbled:u({onTouchTap:null}),captured:u({onTouchTapCapture:null})},dependencies:b}},x=function(){return Date.now?Date.now:function(){return+new Date}}();e.exports=createTapEventPlugin},374:function(e,t){"use strict";var n={topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null},r={topLevelTypes:n};e.exports=r},375:function(e,t){var n={extractSingleTouch:function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,o=n&&n.length>0;return!r&&o?n[0]:r?t[0]:e}};e.exports=n},376:function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},377:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(378),a=n(477),s=n(483),l=n(441);n(504);var u="{\n            yahooId\n            posterUrl\n            chineseTitle\n            englishTitle\n            releaseDate\n            type\n            runTime\n            director\n            actor\n            launchCompany\n            companyUrl\n            sourceUrl                       \n            yahooRating\n            imdbID\n            imdbRating\n            tomatoURL            \n            tomatoRating\n            relatedArticles{title,push,url,date,author}\n            summary\n          }",c=function(e){function Home(t){var n=e.call(this,t)||this;return n.state={searchText:"",dataSource:[],resultMovies:[]},n}return r(Home,e),Home.prototype.componentWillMount=function(){var e=this;this.props.params.id?this.search([parseInt(this.props.params.id)]):this.requestGraphQL("{recentMovies"+u+"}").then(function(t){e.setState({resultMovies:t.data.recentMovies.map(function(t){return e.classifyArticle(t)})})})},Home.prototype.componentDidMount=function(){this.getDataSource(),document.querySelector("input").focus()},Home.prototype.getDataSource=function(){var e=this;fetch("/graphql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:"{allMoviesNames{value,text}}"}),credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({dataSource:t.data.allMoviesNames})})},Home.prototype.handleUpdateInput=function(e){this.setState({searchText:e})},Home.prototype.clearSearchText=function(){this.setState({searchText:""}),document.querySelector("input").focus()},Home.prototype.onNewRequest=function(e,t,n){var r=[];if(t===-1){var o=e.toLowerCase();r=n?n.map(function(e){var t=e.value;return parseInt(t.key)}).slice(0,6):this.state.dataSource.filter(function(e){var t=(e.value,e.text);return t.toLowerCase().indexOf(o)!==-1}).map(function(e){var t=e.value;return parseInt(t)}).slice(0,6)}else r.push(parseInt(e.value));this.search(r)},Home.prototype.requestGraphQL=function(e){return fetch("/graphql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:e}),credentials:"include"}).then(function(e){return e.json()})},Home.prototype.search=function(e){var t=this;this.requestGraphQL("\n        {\n          movies(yahooIds:"+JSON.stringify(e)+")"+u+"\n        }\n    ").then(function(e){t.setState({resultMovies:e.data.movies.map(function(e){return t.classifyArticle(e)})})})},Home.prototype.classifyArticle=function(e){if(!e.relatedArticles)return e;var t=[[],[],[],[]],n=t[0],r=t[1],o=t[2],i=t[3];return e.relatedArticles.forEach(function(e){var t=e.title;t.indexOf("好雷")!==-1||t.indexOf("好無雷")!==-1?n.push(e):t.indexOf("普雷")!==-1?r.push(e):t.indexOf("負雷")!==-1?o.push(e):i.push(e)}),e.goodRateArticles=n,e.normalRateArticles=r,e.badRateArticles=o,e.otherArticles=i,e},Home.prototype.showDetail=function(e){this.setState({resultMovies:[e]})},Home.prototype.render=function(){return o.createElement("div",{className:"container"},o.createElement("div",{className:"autoCompleteWrapper"},o.createElement(s.default,{hintText:"電影名稱(中英皆可)",dataSource:this.state.dataSource,floatingLabelText:"找電影",fullWidth:!0,filter:s.default.caseInsensitiveFilter,maxSearchResults:6,onNewRequest:this.onNewRequest.bind(this),searchText:this.state.searchText,onUpdateInput:this.handleUpdateInput.bind(this)}),o.createElement("button",{className:"clearButton "+(this.state.searchText?"":"displayNone"),onClick:this.clearSearchText.bind(this)},"X")),1===this.state.resultMovies.length?o.createElement(l.default,{zDepth:2},o.createElement(i.default,{movie:this.state.resultMovies[0]})):o.createElement(a.default,{movies:this.state.resultMovies,showDetail:this.showDetail.bind(this)}))},Home}(o.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},378:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(379),a=n(411),s=n(426),l=n(463),u=function(e){function MovieDetailTabs(t){var n=e.call(this,t)||this;return n.handleChange=function(e){n.setState({slideIndex:e})},n.state={slideIndex:0},n}return r(MovieDetailTabs,e),MovieDetailTabs.prototype.render=function(){return this.props.movie.chineseTitle?o.createElement("div",null,o.createElement(i.Tabs,{onChange:this.handleChange,value:this.state.slideIndex},o.createElement(i.Tab,{label:"Detail",value:0}),o.createElement(i.Tab,{label:"Ptt",value:1}),o.createElement(i.Tab,{label:"Summary",value:2})),o.createElement(a.default,{index:this.state.slideIndex,onChangeIndex:this.handleChange},o.createElement("div",{style:{height:0===this.state.slideIndex?"auto":0}},o.createElement(s.default,{movie:this.props.movie})),o.createElement("div",{style:{height:1===this.state.slideIndex?"auto":0}},o.createElement(l.default,{movie:this.props.movie})),o.createElement("div",{className:"col-xs-12",style:{paddingTop:"1em",height:2===this.state.slideIndex?"auto":0},dangerouslySetInnerHTML:{__html:this.props.movie.summary}}))):null},MovieDetailTabs}(o.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},411:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(412),o=_interopRequireDefault(r);t.default=o.default},412:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function applyRotationMatrix(e,t){var n=O.rotationMatrix[t];return{pageX:n.x[0]*e.pageX+n.x[1]*e.pageY,pageY:n.y[0]*e.pageX+n.y[1]*e.pageY}}function getDomTreeShapes(e,t){for(var n=[];e&&e!==t&&"option"!==e.getAttribute("role");)e.clientWidth>0&&e.scrollWidth>e.clientWidth&&n.push({element:e,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),e=e.parentNode;return n}function findNativeHandler(e){var t=e.domTreeShapes,n=e.indexCurrent,r=e.index,o=e.axis;return t.some(function(e){var t=r<=n;"x"!==o&&"y"!==o||(t=!t);var i=e[O.scrollPosition[o]],a=i>0,s=i+e[O.clientLength[o]]<e[O.scrollLength[o]];return!!(t&&s||!t&&a)&&(N=e.element,!0)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(381),o=_interopRequireDefault(r),i=n(386),a=_interopRequireDefault(i),s=n(382),l=_interopRequireDefault(s),u=n(224),c=_interopRequireDefault(u),p=n(250),d=_interopRequireDefault(p),h=n(251),f=_interopRequireDefault(h),m=n(255),y=_interopRequireDefault(m),v=n(302),g=_interopRequireDefault(v);t.getDomTreeShapes=getDomTreeShapes,t.findNativeHandler=findNativeHandler;var b=n(1),T=_interopRequireDefault(b),x=n(413),_=_interopRequireDefault(x),w=n(420),R=_interopRequireDefault(w),E=n(36),S=(_interopRequireDefault(E),n(422)),D=n(423),A=(_interopRequireDefault(D),n(424)),C=_interopRequireDefault(A),P=n(425),M=_interopRequireDefault(P),I={container:{display:"flex",willChange:"transform"},slide:{width:"100%",flexShrink:0,overflow:"auto"}},O={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(e){return"translate("+-e+"%, 0)"},"x-reverse":function(e){return"translate("+e+"%, 0)"},y:function(e){return"translate(0, "+-e+"%)"},"y-reverse":function(e){return"translate(0, "+e+"%)"}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}},N=null,H=function(e){function SwipeableViews(){var e,t,n,r;(0,d.default)(this,SwipeableViews);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=(0,y.default)(this,(e=SwipeableViews.__proto__||(0,c.default)(SwipeableViews)).call.apply(e,[this].concat(i))),n.state={},n.viewLength=0,n.startX=0,n.lastX=0,n.vx=0,n.startY=0,n.isSwiping=void 0,n.started=!1,n.indexAnimation=0,n.handleTouchStart=function(e){var t=n.props,r=t.axis,o=t.onTouchStart;o&&o(e);var i=applyRotationMatrix(e.touches[0],r);n.viewLength=n.node.getBoundingClientRect()[O.length[r]],n.startX=i.pageX,n.lastX=i.pageX,n.vx=0,n.startY=i.pageY,n.isSwiping=void 0,n.started=!0,n.startIndex=n.indexAnimation/100},n.handleTouchMove=function(e){if(n.props.onTouchMove&&n.props.onTouchMove(e),!n.started)return void n.handleTouchStart(e);if(null===N||N===n.node){var t=n.props,r=t.axis,o=t.children,i=t.onSwitching,a=t.resistance,s=applyRotationMatrix(e.touches[0],r);if(void 0===n.isSwiping){var l=Math.abs(n.startX-s.pageX),u=Math.abs(n.startY-s.pageY),c=l>u&&l>S.UNCERTAINTY_THRESHOLD;if(l>u&&e.preventDefault(),c===!0||u>S.UNCERTAINTY_THRESHOLD)return n.isSwiping=c,void(n.startX=s.pageX)}if(n.isSwiping===!0){e.preventDefault(),n.vx=.5*n.vx+.5*(s.pageX-n.lastX),n.lastX=s.pageX;var p=(0,C.default)({children:o,resistance:a,pageX:s.pageX,startIndex:n.startIndex,startX:n.startX,viewLength:n.viewLength}),d=p.index,h=p.startX;if(null===N){var f=getDomTreeShapes(e.target,n.node),m=findNativeHandler({domTreeShapes:f,indexCurrent:n.state.indexCurrent,index:d,axis:r});if(m)return}h?n.startX=h:null===N&&(N=n.node),n.setState({displaySameSlide:!1,isDragging:!0,indexCurrent:d},function(){i&&i(d,"move")})}}},n.handleTouchEnd=function(e){if(n.props.onTouchEnd&&n.props.onTouchEnd(e),N=null,n.started&&(n.started=!1,n.isSwiping===!0)){var t=n.state.indexLatest,r=n.state.indexCurrent,o=t-r,i=void 0;i=Math.abs(n.vx)>n.props.threshold?n.vx>0?Math.floor(r):Math.ceil(r):Math.abs(o)>n.props.hysteresis?o>0?Math.floor(r):Math.ceil(r):t;var a=b.Children.count(n.props.children)-1;i<0?i=0:i>a&&(i=a),n.setState({indexCurrent:i,indexLatest:i,isDragging:!1},function(){n.props.onSwitching&&n.props.onSwitching(i,"end"),n.props.onChangeIndex&&i!==t&&n.props.onChangeIndex(i,t),r===t&&n.handleRest()})}},n.handleRest=function(){n.state.displaySameSlide||n.props.onTransitionEnd&&!n.state.isDragging&&n.props.onTransitionEnd()},r=t,(0,y.default)(n,r)}return(0,g.default)(SwipeableViews,e),(0,f.default)(SwipeableViews,[{key:"componentWillMount",value:function(){this.setState({indexCurrent:this.props.index,indexLatest:this.props.index,isDragging:!1,isFirstRender:!0,heightLatest:0})}},{key:"componentDidMount",value:function(){this.setState({isFirstRender:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=e.index;"number"==typeof t&&t!==this.props.index&&this.setState({displaySameSlide:(0,M.default)(this.props,e),indexCurrent:t,indexLatest:t})}},{key:"updateHeight",value:function(e){if(null!==e){var t=e.children[0];void 0!==t&&void 0!==t.offsetHeight&&this.state.heightLatest!==t.offsetHeight&&this.setState({heightLatest:t.offsetHeight})}}},{key:"renderContainer",value:function(e,t,n){var r=this.props,o=r.axis,i=r.containerStyle;this.indexAnimation=e.translate;var a=O.transform[o](e.translate),s={WebkitTransform:a,transform:a,height:null,flexDirection:O.flexDirection[o]};return t&&(s.height=e.height),T.default.createElement("div",{style:(0,l.default)({},s,I.container,i)},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.animateHeight,r=t.animateTransitions,i=t.axis,s=t.children,u=(t.containerStyle,t.disabled),c=(t.hysteresis,t.index,t.onChangeIndex,t.onSwitching,t.onTransitionEnd,t.resistance,t.slideStyle),p=t.slideClassName,d=t.springConfig,h=t.style,f=(t.threshold,(0,a.default)(t,["animateHeight","animateTransitions","axis","children","containerStyle","disabled","hysteresis","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),m=this.state,y=m.displaySameSlide,v=m.heightLatest,g=m.indexCurrent,x=m.isDragging,w=m.isFirstRender,E=100*g,S=v,D=x||!r||y?{translate:E,height:S}:{translate:(0,R.default)(E,(0,o.default)({precision:1.5},d)),height:0!==S?(0,R.default)(S,(0,o.default)({precision:1.5},d)):0},A=u?{}:{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},C=(0,l.default)({},I.slide,c),P=b.Children.map(s,function(t,r){if(w&&r>0)return null;var o=void 0,i=!0;return r===e.state.indexLatest&&(i=!1,n&&(o=function(t){return e.updateHeight(t)},C.overflowY="hidden")),T.default.createElement("div",{ref:o,style:C,className:p,"aria-hidden":i,role:"option"},t)});return T.default.createElement("div",(0,o.default)({ref:function(t){e.node=t},style:(0,l.default)({},O.root[i],h),role:"listbox"},f,A),T.default.createElement(_.default,{style:D,onRest:this.handleRest},function(t){return e.renderContainer(t,n,P)}))}}]),SwipeableViews}(b.Component);H.displayName="ReactSwipableView",H.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,hysteresis:.6,index:0,threshold:5,resistance:!1,springConfig:{stiffness:300,damping:30}},t.default=H},413:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(414),i=_interopRequireDefault(o),a=n(415),s=_interopRequireDefault(a),l=n(416),u=_interopRequireDefault(l),c=n(417),p=_interopRequireDefault(c),d=n(418),h=_interopRequireDefault(d),f=n(419),m=_interopRequireDefault(f),y=n(1),v=_interopRequireDefault(y),g=1e3/60,b=v.default.createClass({displayName:"Motion",propTypes:{defaultStyle:y.PropTypes.objectOf(y.PropTypes.number),style:y.PropTypes.objectOf(y.PropTypes.oneOfType([y.PropTypes.number,y.PropTypes.object])).isRequired,children:y.PropTypes.func.isRequired,onRest:y.PropTypes.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||s.default(n),o=i.default(r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t=!1,n=this.state,o=n.currentStyle,i=n.currentVelocity,a=n.lastIdealStyle,s=n.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var u=e[l];"number"==typeof u&&(t||(t=!0,o=r({},o),i=r({},i),a=r({},a),s=r({},s)),o[l]=u,i[l]=0,a[l]=u,s[l]=0)}t&&this.setState({currentStyle:o,currentVelocity:i,lastIdealStyle:a,lastIdealVelocity:s})},startAnimationIfNecessary:function(){var e=this;this.animationID=h.default(function(t){var n=e.props.style;if(m.default(e.state.currentStyle,n,e.state.currentVelocity))return e.wasAnimating&&e.props.onRest&&e.props.onRest(),e.animationID=null,e.wasAnimating=!1,void(e.accumulatedTime=0);e.wasAnimating=!0;var r=t||p.default(),o=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+o,e.accumulatedTime>10*g&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();var i=(e.accumulatedTime-Math.floor(e.accumulatedTime/g)*g)/g,a=Math.floor(e.accumulatedTime/g),s={},l={},c={},d={};for(var h in n)if(Object.prototype.hasOwnProperty.call(n,h)){var f=n[h];if("number"==typeof f)c[h]=f,d[h]=0,s[h]=f,l[h]=0;else{for(var y=e.state.lastIdealStyle[h],v=e.state.lastIdealVelocity[h],b=0;b<a;b++){var T=u.default(g/1e3,y,v,f.val,f.stiffness,f.damping,f.precision);y=T[0],v=T[1]}var x=u.default(g/1e3,y,v,f.val,f.stiffness,f.damping,f.precision),_=x[0],w=x[1];c[h]=y+(_-y)*i,d[h]=v+(w-v)*i,s[h]=y,l[h]=v}}e.animationID=null,e.accumulatedTime-=a*g,e.setState({currentStyle:c,currentVelocity:d,lastIdealStyle:s,lastIdealVelocity:l}),e.unreadPropStyle=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=p.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=p.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(h.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&v.default.Children.only(e)}});t.default=b,e.exports=t.default},414:function(e,t){"use strict";function mapToZero(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=mapToZero,e.exports=t.default},415:function(e,t){"use strict";function stripStyle(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=stripStyle,e.exports=t.default},416:function(e,t){"use strict";function stepper(e,t,r,o,i,a,s){var l=-i*(t-o),u=-a*r,c=l+u,p=r+c*e,d=t+p*e;return Math.abs(p)<s&&Math.abs(d-o)<s?(n[0]=o,n[1]=0,n):(n[0]=d,n[1]=p,n)}t.__esModule=!0,t.default=stepper;var n=[0,0];e.exports=t.default},417:function(e,t,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(164))},418:function(e,t,n){(function(t){for(var r=n(417),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],l=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!l){var c=0,p=0,d=[],h=1e3/60;s=function(e){if(0===d.length){var t=r(),n=Math.max(0,h-(t-c));c=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=l}}).call(t,function(){return this}())},419:function(e,t){"use strict";function shouldStopAnimation(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var o="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==o)return!1}return!0}t.__esModule=!0,t.default=shouldStopAnimation,e.exports=t.default},420:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function spring(e,t){return r({},a,t,{val:e})}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=spring;var o=n(421),i=_interopRequireDefault(o),a=r({},i.default.noWobble,{precision:.01});e.exports=t.default},421:function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},422:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RESISTANCE_COEF=.6,t.UNCERTAINTY_THRESHOLD=3},423:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(36),i=(_interopRequireDefault(o),function(e){var t=(e.index,e.children);r.Children.count(t)});t.default=i},424:function(e,t,n){"use strict";function computeIndex(e){var t=e.children,n=e.startIndex,i=e.startX,a=e.pageX,s=e.viewLength,l=e.resistance,u=r.Children.count(t)-1,c=n+(i-a)/s,p=void 0;return l?c<0?c=Math.exp(c*o.RESISTANCE_COEF)-1:c>u&&(c=u+1-Math.exp((u-c)*o.RESISTANCE_COEF)):c<0?(c=0,p=(c-n)*s+a):c>u&&(c=u,p=(c-n)*s+a),{index:c,startX:p}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=computeIndex;var r=n(1),o=n(422)},425:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=!1;if(e.children.length&&t.children.length){var r=e.children[e.index],o=r?r.key:"empty";if(null!==o){var i=t.children[t.index],a=i?i.key:"empty";o===a&&(n=!0)}}return n};t.default=n},426:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(427),a=n(462),s=function(e){function MovieDetail(t){return e.call(this,t)||this}return r(MovieDetail,e),MovieDetail.prototype.render=function(){return o.createElement("div",null,o.createElement("div",{className:"col-md-8 col-xs-12 pull-right"},o.createElement(a.default,{className:"ratings",movie:this.props.movie}),o.createElement(i.Table,{className:"movieDetail",selectable:!1},o.createElement(i.TableBody,{displayRowCheckbox:!1},o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"中文名稱"),o.createElement(i.TableRowColumn,null,this.props.movie.chineseTitle)),o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"英文名稱"),o.createElement(i.TableRowColumn,null,this.props.movie.englishTitle)),o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"上映日期"),o.createElement(i.TableRowColumn,null,this.props.movie.releaseDate)),o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"類型"),o.createElement(i.TableRowColumn,null,this.props.movie.type)),o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"片長"),o.createElement(i.TableRowColumn,null,this.props.movie.runTime)),o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"導演"),o.createElement(i.TableRowColumn,null,this.props.movie.director)),o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"演員"),o.createElement(i.TableRowColumn,null,this.props.movie.actor)),o.createElement(i.TableRow,null,o.createElement(i.TableRowColumn,null,"發行公司"),o.createElement(i.TableRowColumn,null,this.props.movie.launchCompany))))),o.createElement("img",{src:this.props.movie.posterUrl,style:{padding:0},className:"col-md-4 col-xs-12",alt:""}))},MovieDetail}(o.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},462:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=function(e){function Ratings(t){return e.call(this,t)||this}return r(Ratings,e),Ratings.prototype.render=function(){return o.createElement("div",{className:this.props.className},o.createElement("div",{className:"ratingWrapper"},o.createElement("img",{src:"/public/image/imdb.png"}),this.props.movie.imdbID?o.createElement("a",{href:"http://www.imdb.com/title/"+this.props.movie.imdbID},this.props.movie.imdbRating?this.props.movie.imdbRating:"N/A"):o.createElement("span",null,this.props.movie.imdbRating?this.props.movie.imdbRating:"N/A")),o.createElement("div",{className:"ratingWrapper"},o.createElement("img",{src:"/public/image/yahoo.png"}),o.createElement("a",{href:"https://tw.movies.yahoo.com/movieinfo_main.html/id="+this.props.movie.yahooId},parseInt(this.props.movie.yahooRating)?this.props.movie.yahooRating:"N/A")),o.createElement("div",{className:"ratingWrapper"},o.createElement("img",{src:"/public/image/rottentomatoes.png"}),this.props.movie.tomatoURL&&"N/A"!==this.props.movie.tomatoURL?o.createElement("a",{href:this.props.movie.tomatoURL},this.props.movie.tomatoRating?this.props.movie.tomatoRating:"N/A"):o.createElement("span",null,this.props.movie.tomatoRating?this.props.movie.tomatoRating:"N/A")),o.createElement("div",{className:"ratingWrapper"},o.createElement("span",{className:"pttLogo"},"PTT"),o.createElement("span",{className:"hint--bottom","aria-label":"(好雷/普雷/負雷)"},this.props.movie.goodRateArticles.length,"/",this.props.movie.normalRateArticles.length,"/",this.props.movie.badRateArticles.length)))},Ratings}(o.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},463:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(464),a=n(379),s=function(e){function PttArticles(t){return e.call(this,t)||this}return r(PttArticles,e),PttArticles.prototype.getPttPushColor=function(e){return e?"爆"===e?"#f66":e.toLowerCase().startsWith("x")?"#666":parseInt(e)<10?"#6f6":"#ff6":""},PttArticles.prototype.getArticleList=function(e){var t=this;return 0===e.length?o.createElement("h4",{style:{color:"#aaa",textAlign:"center",paddingTop:"18px"}},"找不到相關文章"):o.createElement(i.List,null,e.map(function(e){return o.createElement(i.ListItem,{innerDivStyle:{paddingLeft:"56px",cursor:"initial"},key:e.url,leftAvatar:o.createElement("span",{className:"pttPush",style:{color:t.getPttPushColor(e.push)}},e.push),primaryText:o.createElement("a",{target:"_blank",className:"pttArticleTitle",href:"https://www.ptt.cc"+e.url},e.title),secondaryText:o.createElement("div",{style:{color:"#aaa",lineHeight:"1em"}},e.date+" "+e.author)})}))},PttArticles.prototype.render=function(){return o.createElement(a.Tabs,{className:"pttArticles",inkBarStyle:{background:"#aaa"},tabItemContainerStyle:{background:"black"}},o.createElement(a.Tab,{label:"好雷("+this.props.movie.goodRateArticles.length+")"},this.getArticleList(this.props.movie.goodRateArticles)),o.createElement(a.Tab,{label:"普雷("+this.props.movie.normalRateArticles.length+")"},this.getArticleList(this.props.movie.normalRateArticles)),o.createElement(a.Tab,{label:"負雷("+this.props.movie.badRateArticles.length+")"},this.getArticleList(this.props.movie.badRateArticles)),o.createElement(a.Tab,{label:"其他("+this.props.movie.otherArticles.length+")"},this.getArticleList(this.props.movie.otherArticles)))},PttArticles}(o.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},477:function(e,t,n){"use strict";var r,o=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),a=n(478),s=n(479),l=n(441),u=n(482),c=n(471),p=(i.createElement(c.default,{className:"material-icons"},"restore"),i.createElement(c.default,{className:"material-icons"},"favorite"),i.createElement(u.default,null));!function(e){e[e.imdb=0]="imdb",e[e.yahoo=1]="yahoo",e[e.tomato=2]="tomato",
e[e.ptt=3]="ptt"}(r||(r={}));var d=function(e){function MovieList(t){var n=e.call(this,t)||this;return n.select=function(e){if(n.state.selectedIndex!==e){var t;switch(e){case r.imdb:t=n.GetStandardSortFunction("imdbRating");break;case r.ptt:t=function(e,t){return n.GetPttRating(t)-n.GetPttRating(e)};break;case r.tomato:t=n.GetStandardSortFunction("tomatoRating");break;case r.yahoo:t=n.GetStandardSortFunction("yahooRating")}n.setState({selectedIndex:e,sortFunction:t})}},n.GetStandardSortFunction=function(e){return function(t,n){var r="N/A"===t[e]?0:t[e],o="N/A"===n[e]?0:n[e];return o-r}},n.GetPttRating=function(e){return e.goodRateArticles.length-e.badRateArticles.length},n.state={selectedIndex:r.imdb,sortFunction:n.GetStandardSortFunction("imdbRating")},n}return o(MovieList,e),MovieList.prototype.render=function(){var e=this;return i.createElement("div",null,i.createElement(l.default,{zDepth:2,style:{marginBottom:".5em"}},i.createElement(s.BottomNavigation,{selectedIndex:this.state.selectedIndex},i.createElement(s.BottomNavigationItem,{label:"IMDB",icon:p,onTouchTap:function(){return e.select(r.imdb)}}),i.createElement(s.BottomNavigationItem,{label:"YAHOO",icon:p,onTouchTap:function(){return e.select(r.yahoo)}}),i.createElement(s.BottomNavigationItem,{label:"TOMATO",icon:p,onTouchTap:function(){return e.select(r.tomato)}}),i.createElement(s.BottomNavigationItem,{label:"PTT",icon:p,onTouchTap:function(){return e.select(r.ptt)}}))),this.props.movies.sort(this.state.sortFunction).map(function(t){return i.createElement(a.default,{key:t.yahooId,movie:t,showDetail:e.props.showDetail.bind(e)})}))},MovieList}(i.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},478:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(441),a=n(462),s="undefined"!=typeof window&&window.matchMedia("only screen and (max-width: 760px)").matches,l=function(e){function FindResult(t){return e.call(this,t)||this}return r(FindResult,e),FindResult.prototype.getSmallPosterSrc=function(e){return s&&e?e.replace("mpost","mpost4"):e},FindResult.prototype.showDetail=function(e){e.preventDefault(),this.props.showDetail(this.props.movie)},FindResult.prototype.render=function(){return o.createElement(i.default,{zDepth:2,className:"row no-margin",style:{marginBottom:".5em"}},o.createElement("div",{className:"col-xs-3 col-sm-2 no-padding"},o.createElement("img",{className:"pointer img-responsive",onClick:this.showDetail.bind(this),src:this.getSmallPosterSrc(this.props.movie.posterUrl)})),o.createElement("div",{className:"col-xs-9 col-sm-10",style:{paddingBottom:".5em"}},o.createElement("div",{className:"pointer",onClick:this.showDetail.bind(this),style:{paddingTop:".5em",paddingBottom:".5em"}},o.createElement("b",null,this.props.movie.chineseTitle,"(",this.props.movie.englishTitle,")"),o.createElement("div",{className:"resultInfo"},o.createElement("span",null,"上映日:",this.props.movie.releaseDate),o.createElement("span",{className:"hidden-xs"},"類型:",this.props.movie.type),o.createElement("span",null,"片長:",this.props.movie.runTime))),o.createElement(a.default,{className:"resultRatings",movie:this.props.movie}),o.createElement("div",{className:"hidden-xs"},o.createElement("div",{className:"resultSummary",dangerouslySetInnerHTML:{__html:this.props.movie.summary}}),o.createElement("a",{href:"",className:"pointer",onClick:this.showDetail.bind(this)},"繼續閱讀..."))))},FindResult}(o.Component);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},482:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=_interopRequireDefault(r),i=n(445),a=_interopRequireDefault(i),s=n(452),l=_interopRequireDefault(s),u=function(e){return o.default.createElement(l.default,e,o.default.createElement("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}))};u=(0,a.default)(u),u.displayName="ContentSort",u.muiName="SvgIcon",t.default=u},504:function(e,t,n){n(505),e.exports=self.fetch.bind(self)},505:function(e,t){!function(e){"use strict";function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function fileReaderReady(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsArrayBuffer(e),n}function readBlobAsText(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsText(e),n}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function normalizeMethod(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}function Request(e,t){t=t||{};var n=t.body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function parseHeaders(e){var t=new Headers;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function Response(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var n=this.map[e];this.map[e]=n?n+","+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),iteratorFor(e)},t.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];Response.redirect=function(e,t){if(a.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=function(e,n){return new Promise(function(r,o){var i=new Request(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:parseHeaders(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new Response(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},506:930});
//# sourceMappingURL=main.54bcb82dff64ed98958e.js.map