webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(28),u=n(92),c=n(28),p=n(230);n(525);var f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){return l.createElement(s.Router,{history:c.browserHistory},p.default)}}]),t}(l.Component),h=document.getElementById("app");u.render(l.createElement(f,null),h),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js",{scope:"/"}).then(function(e){return console.log("SW registered!",e)}).catch(function(e){return console.log("Error!",e)})},230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(28),i=n(231),a=n(387),l=n(468),s=n(519);t.default=r.createElement(o.Route,{component:i.default},r.createElement(o.Route,{path:"/",component:a.default},r.createElement(o.IndexRoute,{component:s.default}),r.createElement(o.Route,{path:"/movie/:id",component:l.default}),r.createElement(o.Route,{path:"/movielist/:ids",component:s.default})))},231:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(232),u=n(319),c=n(380);c();var p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.muiTheme=u.default({userAgent:navigator.userAgent}),n}return i(t,e),a(t,[{key:"render",value:function(){return l.createElement(s.default,{muiTheme:this.muiTheme},this.props.children)}}]),t}(l.Component);t.default=p},380:function(e,t,n){var r=(n(381),n(382)),o=!1;e.exports=function(e){e=e||{};var t=e.shouldRejectClick||r;o=!0,n(102).injection.injectEventPluginsByName({TapEventPlugin:n(383)(t)})}},381:7,382:function(e,t){e.exports=function(e,t){if(e&&t-e<750)return!0}},383:function(e,t,n){"use strict";function r(e,t){var n=c.extractSingleTouch(t);return n?n[e.page]:e.page in t?t[e.page]:t[e.client]+p[e.envScroll]}function o(e,t){var n=r(w.x,t),o=r(w.y,t);return Math.pow(Math.pow(n-e.x,2)+Math.pow(o-e.y,2),.5)}function i(e){return{tapMoveThreshold:y,ignoreMouseThreshold:v,eventTypes:x,extractEvents:function(t,n,i,a){if(!h(t)&&!d(t))return null;if(m(t))g=_();else if(e(g,_()))return null;var l=null,c=o(b,i);return d(t)&&c<y&&(l=u.getPooled(x.touchTap,n,i,a)),h(t)?(b.x=r(w.x,i),b.y=r(w.y,i)):d(t)&&(b.x=0,b.y=0),s.accumulateTwoPhaseDispatches(l),l}}}var a=n(384),l=n(104),s=n(101),u=n(130),c=n(385),p=n(131),f=n(386),h=(a.topLevelTypes,l.isStartish),d=l.isEndish,m=function(e){var t=["topTouchCancel","topTouchEnd","topTouchStart","topTouchMove"];return t.indexOf(e)>=0},y=10,v=750,b={x:null,y:null},g=null,w={x:{page:"pageX",client:"clientX",envScroll:"currentPageScrollLeft"},y:{page:"pageY",client:"clientY",envScroll:"currentPageScrollTop"}},T=["topTouchStart","topTouchCancel","topTouchEnd","topTouchMove"],E=["topMouseDown","topMouseMove","topMouseUp"].concat(T),x={touchTap:{phasedRegistrationNames:{bubbled:f({onTouchTap:null}),captured:f({onTouchTapCapture:null})},dependencies:E}},_=function(){return Date.now?Date.now:function(){return+new Date}}();e.exports=i},384:function(e,t){"use strict";var n={topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null},r={topLevelTypes:n};e.exports=r},385:function(e,t){var n={extractSingleTouch:function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,o=n&&n.length>0;return!r&&o?n[0]:r?t[0]:e}};e.exports=n},386:function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},387:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(388);n(466);var u=n(28),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchText:"",dataSource:[]},n}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this.getDataSource(),document.querySelector("input").focus()}},{key:"getDataSource",value:function(){var e=this;fetch("/graphql?query={allMoviesNames{value,text}}").then(function(e){return e.json()}).then(function(t){e.setState({dataSource:t.data.allMoviesNames})})}},{key:"handleUpdateInput",value:function(e){this.setState({searchText:e})}},{key:"clearSearchText",value:function(){this.setState({searchText:""}),document.querySelector("input").focus()}},{key:"onNewRequest",value:function(e,t,n){var r=[];if(t===-1){var o=e.toLowerCase();r=n?n.map(function(e){var t=e.value;return parseInt(t.key)}).slice(0,6):this.state.dataSource.filter(function(e){var t=(e.value,e.text);return t.toLowerCase().indexOf(o)!==-1}).map(function(e){var t=e.value;return parseInt(t)}).slice(0,6)}else r.push(parseInt(e.value));1===r.length?u.browserHistory.push("/movie/"+r):u.browserHistory.push("/movielist/"+r)}},{key:"render",value:function(){return l.createElement("div",{className:"container"},l.createElement("div",{className:"autoCompleteWrapper"},l.createElement(s.default,{hintText:"電影名稱(中英皆可)",dataSource:this.state.dataSource,floatingLabelText:"找電影",fullWidth:!0,filter:s.default.caseInsensitiveFilter,maxSearchResults:6,onNewRequest:this.onNewRequest.bind(this),searchText:this.state.searchText,onUpdateInput:this.handleUpdateInput.bind(this)}),l.createElement("button",{className:"clearButton "+(this.state.searchText?"":"displayNone"),onClick:this.clearSearchText.bind(this)},"X")),this.props.children)}}]),t}(l.Component);t.default=c},466:function(e,t,n){n(467),e.exports=self.fetch.bind(self)},467:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function s(e){var t=new FileReader;return t.readAsText(e),a(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(l)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(p.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function h(e){var t=new o,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function d(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof o?t.headers:new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];o||(o=[],this.map[e]=o),o.push(r)},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},o.prototype.getAll=function(e){return this.map[t(e)]||[]},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},o.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this)},u.call(p.prototype),u.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];d.redirect=function(e,t){if(v.indexOf(t)===-1)throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=d,e.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=p.prototype.isPrototypeOf(e)&&!t?e:new p(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:h(a),url:o()},t="response"in a?a.response:a.responseText;n(new d(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&m.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},468:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(469),u=n(474),c=n(426),p=n(489),f=n(507),h=n(510),d=n(511),m=n(512),y="{\n            yahooId,\n            posterUrl,\n            chineseTitle,\n            englishTitle,\n            releaseDate,\n            type,\n            runTime,\n            director,\n            actor,\n            launchCompany,\n            companyUrl,\n            yahooRating,\n            imdbID,\n            imdbRating,\n            tomatoURL            ,\n            tomatoRating,\n            relatedArticles{title,push,url,date,author},\n            summary,\n            schedules {\n              theaterName,\n              timesStrings,\n              theaterExtension {\n                phone,\n                region,\n                location {\n                  lat,\n                  lng,\n                }\n              }\n            }\n          }",v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){n.setState({slideIndex:e})},n.state={movie:{},slideIndex:0,isLoading:!0},n}return i(t,e),a(t,[{key:"componentWillMount",value:function(){this.search([parseInt(this.props.params.id)])}},{key:"componentWillReceiveProps",value:function(e){this.search([parseInt(e.params.id)])}},{key:"search",value:function(e){var t=this;this.setState({isLoading:!0}),d.requestGraphQL("\n        {\n          movies(yahooIds:"+JSON.stringify(e)+")"+y+"\n        }\n    ").then(function(e){t.setState({movie:e.data.movies.map(function(e){return d.classifyArticle(e)})[0],isLoading:!1})})}},{key:"render",value:function(){return this.state.isLoading?l.createElement(m.default,{isLoading:this.state.isLoading}):l.createElement(c.default,{zDepth:2},l.createElement(s.Tabs,{onChange:this.handleChange,value:this.state.slideIndex},l.createElement(s.Tab,{label:"Detail",value:0}),l.createElement(s.Tab,{label:"Ptt",value:1}),l.createElement(s.Tab,{label:"Summary",value:2}),this.state.movie.schedules.length>0&&l.createElement(s.Tab,{label:"Time",value:3})),l.createElement(u.default,{index:this.state.slideIndex,onChangeIndex:this.handleChange},l.createElement("div",{style:{height:0===this.state.slideIndex?"auto":0}},l.createElement(p.default,{movie:this.state.movie})),l.createElement("div",{style:{height:1===this.state.slideIndex?"auto":0}},l.createElement(f.default,{movie:this.state.movie})),l.createElement("div",{className:"col-xs-12",style:{paddingTop:"1em",height:2===this.state.slideIndex?"auto":0},dangerouslySetInnerHTML:{__html:this.state.movie.summary}}),l.createElement("div",{style:{height:3===this.state.slideIndex?"auto":0}},l.createElement(h.default,{schedules:this.state.movie.schedules}))))}}]),t}(l.Component);t.default=v},474:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(475),i=r(o);t.default=i.default},475:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=N.rotationMatrix[t];return{pageX:n.x[0]*e.pageX+n.x[1]*e.pageY,pageY:n.y[0]*e.pageX+n.y[1]*e.pageY}}function i(e,t){for(var n=[];e&&e!==t&&"option"!==e.getAttribute("role");)e.clientWidth>0&&e.scrollWidth>e.clientWidth&&n.push({element:e,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),e=e.parentNode;return n}function a(e){var t=e.domTreeShapes,n=e.indexCurrent,r=e.index,o=e.axis;return t.some(function(e){var t=r<=n;"x"!==o&&"y"!==o||(t=!t);var i=e[N.scrollPosition[o]],a=i>0,l=i+e[N.clientLength[o]]<e[N.scrollLength[o]];return!!(t&&l||!t&&a)&&(H=e.element,!0)})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(390),s=r(l),u=n(395),c=r(u),p=n(391),f=r(p),h=n(233),d=r(h),m=n(259),y=r(m),v=n(260),b=r(v),g=n(264),w=r(g),T=n(311),E=r(T);t.getDomTreeShapes=i,t.findNativeHandler=a;var x=n(1),_=r(x),S=n(476),O=r(S),P=n(483),R=r(P),C=n(45),j=(r(C),n(485)),I=n(486),M=(r(I),n(487)),D=r(M),L=n(488),A=r(L),k={container:{display:"flex",willChange:"transform"},slide:{width:"100%",flexShrink:0,overflow:"auto"}},N={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(e){return"translate("+-e+"%, 0)"},"x-reverse":function(e){return"translate("+e+"%, 0)"},y:function(e){return"translate(0, "+-e+"%)"},"y-reverse":function(e){return"translate(0, "+e+"%)"}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}},H=null,U=function(e){function t(){var e,n,r,l;(0,y.default)(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,w.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(u))),r.state={},r.viewLength=0,r.startX=0,r.lastX=0,r.vx=0,r.startY=0,r.isSwiping=void 0,r.started=!1,r.indexAnimation=0,r.handleTouchStart=function(e){var t=r.props,n=t.axis,i=t.onTouchStart;i&&i(e);var a=o(e.touches[0],n);r.viewLength=r.node.getBoundingClientRect()[N.length[n]],r.startX=a.pageX,r.lastX=a.pageX,r.vx=0,r.startY=a.pageY,r.isSwiping=void 0,r.started=!0,r.startIndex=r.indexAnimation/100},r.handleTouchMove=function(e){if(r.props.onTouchMove&&r.props.onTouchMove(e),!r.started)return void r.handleTouchStart(e);if(null===H||H===r.node){var t=r.props,n=t.axis,l=t.children,s=t.onSwitching,u=t.resistance,c=o(e.touches[0],n);if(void 0===r.isSwiping){var p=Math.abs(r.startX-c.pageX),f=Math.abs(r.startY-c.pageY),h=p>f&&p>j.UNCERTAINTY_THRESHOLD;if(p>f&&e.preventDefault(),h===!0||f>j.UNCERTAINTY_THRESHOLD)return r.isSwiping=h,void(r.startX=c.pageX)}if(r.isSwiping===!0){e.preventDefault(),r.vx=.5*r.vx+.5*(c.pageX-r.lastX),r.lastX=c.pageX;var d=(0,D.default)({children:l,resistance:u,pageX:c.pageX,startIndex:r.startIndex,startX:r.startX,viewLength:r.viewLength}),m=d.index,y=d.startX;if(null===H){var v=i(e.target,r.node),b=a({domTreeShapes:v,indexCurrent:r.state.indexCurrent,index:m,axis:n});if(b)return}y?r.startX=y:null===H&&(H=r.node),r.setState({displaySameSlide:!1,isDragging:!0,indexCurrent:m},function(){s&&s(m,"move")})}}},r.handleTouchEnd=function(e){if(r.props.onTouchEnd&&r.props.onTouchEnd(e),H=null,r.started&&(r.started=!1,r.isSwiping===!0)){var t=r.state.indexLatest,n=r.state.indexCurrent,o=t-n,i=void 0;i=Math.abs(r.vx)>r.props.threshold?r.vx>0?Math.floor(n):Math.ceil(n):Math.abs(o)>r.props.hysteresis?o>0?Math.floor(n):Math.ceil(n):t;var a=x.Children.count(r.props.children)-1;i<0?i=0:i>a&&(i=a),r.setState({indexCurrent:i,indexLatest:i,isDragging:!1},function(){r.props.onSwitching&&r.props.onSwitching(i,"end"),r.props.onChangeIndex&&i!==t&&r.props.onChangeIndex(i,t),n===t&&r.handleRest()})}},r.handleRest=function(){r.state.displaySameSlide||r.props.onTransitionEnd&&!r.state.isDragging&&r.props.onTransitionEnd()},l=n,(0,w.default)(r,l)}return(0,E.default)(t,e),(0,b.default)(t,[{key:"componentWillMount",value:function(){this.setState({indexCurrent:this.props.index,indexLatest:this.props.index,isDragging:!1,isFirstRender:!0,heightLatest:0})}},{key:"componentDidMount",value:function(){this.setState({isFirstRender:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=e.index;"number"==typeof t&&t!==this.props.index&&this.setState({displaySameSlide:(0,A.default)(this.props,e),indexCurrent:t,indexLatest:t})}},{key:"updateHeight",value:function(e){if(null!==e){var t=e.children[0];void 0!==t&&void 0!==t.offsetHeight&&this.state.heightLatest!==t.offsetHeight&&this.setState({heightLatest:t.offsetHeight})}}},{key:"renderContainer",value:function(e,t,n){var r=this.props,o=r.axis,i=r.containerStyle;this.indexAnimation=e.translate;var a=N.transform[o](e.translate),l={WebkitTransform:a,transform:a,height:null,flexDirection:N.flexDirection[o]};return t&&(l.height=e.height),_.default.createElement("div",{style:(0,f.default)({},l,k.container,i)},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.animateHeight,r=t.animateTransitions,o=t.axis,i=t.children,a=(t.containerStyle,t.disabled),l=(t.hysteresis,t.index,t.onChangeIndex,t.onSwitching,t.onTransitionEnd,t.resistance,t.slideStyle),u=t.slideClassName,p=t.springConfig,h=t.style,d=(t.threshold,(0,c.default)(t,["animateHeight","animateTransitions","axis","children","containerStyle","disabled","hysteresis","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),m=this.state,y=m.displaySameSlide,v=m.heightLatest,b=m.indexCurrent,g=m.isDragging,w=m.isFirstRender,T=100*b,E=v,S=g||!r||y?{translate:T,height:E}:{translate:(0,R.default)(T,(0,s.default)({precision:1.5},p)),height:0!==E?(0,R.default)(E,(0,s.default)({precision:1.5},p)):0},P=a?{}:{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},C=(0,f.default)({},k.slide,l),j=x.Children.map(i,function(t,r){if(w&&r>0)return null;var o=void 0,i=!0;return r===e.state.indexLatest&&(i=!1,n&&(o=function(t){return e.updateHeight(t)},C.overflowY="hidden")),_.default.createElement("div",{ref:o,style:C,className:u,"aria-hidden":i,role:"option"},t)});return _.default.createElement("div",(0,s.default)({ref:function(t){e.node=t},style:(0,f.default)({},N.root[o],h),role:"listbox"},d,P),_.default.createElement(O.default,{style:S,onRest:this.handleRest},function(t){return e.renderContainer(t,n,j)}))}}]),t}(x.Component);U.displayName="ReactSwipableView",U.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,hysteresis:.6,index:0,threshold:5,resistance:!1,springConfig:{stiffness:300,damping:30}},t.default=U},476:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(477),a=r(i),l=n(478),s=r(l),u=n(479),c=r(u),p=n(480),f=r(p),h=n(481),d=r(h),m=n(482),y=r(m),v=n(1),b=r(v),g=1e3/60,w=b.default.createClass({displayName:"Motion",propTypes:{defaultStyle:v.PropTypes.objectOf(v.PropTypes.number),style:v.PropTypes.objectOf(v.PropTypes.oneOfType([v.PropTypes.number,v.PropTypes.object])).isRequired,children:v.PropTypes.func.isRequired,onRest:v.PropTypes.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||s.default(n),o=a.default(r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t=!1,n=this.state,r=n.currentStyle,i=n.currentVelocity,a=n.lastIdealStyle,l=n.lastIdealVelocity;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u=e[s];"number"==typeof u&&(t||(t=!0,r=o({},r),i=o({},i),a=o({},a),l=o({},l)),r[s]=u,i[s]=0,a[s]=u,l[s]=0)}t&&this.setState({currentStyle:r,currentVelocity:i,lastIdealStyle:a,lastIdealVelocity:l})},startAnimationIfNecessary:function(){var e=this;this.animationID=d.default(function(t){var n=e.props.style;if(y.default(e.state.currentStyle,n,e.state.currentVelocity))return e.wasAnimating&&e.props.onRest&&e.props.onRest(),e.animationID=null,e.wasAnimating=!1,void(e.accumulatedTime=0);e.wasAnimating=!0;var r=t||f.default(),o=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+o,e.accumulatedTime>10*g&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();var i=(e.accumulatedTime-Math.floor(e.accumulatedTime/g)*g)/g,a=Math.floor(e.accumulatedTime/g),l={},s={},u={},p={};for(var h in n)if(Object.prototype.hasOwnProperty.call(n,h)){var d=n[h];if("number"==typeof d)u[h]=d,p[h]=0,l[h]=d,s[h]=0;else{for(var m=e.state.lastIdealStyle[h],v=e.state.lastIdealVelocity[h],b=0;b<a;b++){var w=c.default(g/1e3,m,v,d.val,d.stiffness,d.damping,d.precision);m=w[0],v=w[1]}var T=c.default(g/1e3,m,v,d.val,d.stiffness,d.damping,d.precision),E=T[0],x=T[1];u[h]=m+(E-m)*i,p[h]=v+(x-v)*i,l[h]=m,s[h]=v}}e.animationID=null,e.accumulatedTime-=a*g,e.setState({currentStyle:u,currentVelocity:p,lastIdealStyle:l,lastIdealVelocity:s}),e.unreadPropStyle=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=f.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=f.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&b.default.Children.only(e)}});t.default=w,e.exports=t.default},477:function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=n,e.exports=t.default},478:function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=n,e.exports=t.default},479:function(e,t){"use strict";function n(e,t,n,o,i,a,l){var s=-i*(t-o),u=-a*n,c=s+u,p=n+c*e,f=t+p*e;return Math.abs(p)<l&&Math.abs(f-o)<l?(r[0]=o,r[1]=0,r):(r[0]=f,r[1]=p,r)}t.__esModule=!0,t.default=n;var r=[0,0];e.exports=t.default},480:function(e,t,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(173))},481:function(e,t,n){(function(t){for(var r=n(480),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",l=o["request"+a],s=o["cancel"+a]||o["cancelRequest"+a],u=0;!l&&u<i.length;u++)l=o[i[u]+"Request"+a],s=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!l||!s){var c=0,p=0,f=[],h=1e3/60;l=function(e){if(0===f.length){var t=r(),n=Math.max(0,h-(t-c));c=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++p,callback:e,cancelled:!1}),p},s=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return l.call(o,e)},e.exports.cancel=function(){s.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=l,o.cancelAnimationFrame=s}}).call(t,function(){return this}())},482:function(e,t){"use strict";function n(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var o="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==o)return!1}return!0}t.__esModule=!0,t.default=n,e.exports=t.default},483:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
default:e}}function o(e,t){return i({},s,t,{val:e})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n(484),l=r(a),s=i({},l.default.noWobble,{precision:.01});e.exports=t.default},484:function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},485:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RESISTANCE_COEF=.6,t.UNCERTAINTY_THRESHOLD=3},486:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(45),a=(r(i),function(e){var t=(e.index,e.children);o.Children.count(t)});t.default=a},487:function(e,t,n){"use strict";function r(e){var t=e.children,n=e.startIndex,r=e.startX,a=e.pageX,l=e.viewLength,s=e.resistance,u=o.Children.count(t)-1,c=n+(r-a)/l,p=void 0;return s?c<0?c=Math.exp(c*i.RESISTANCE_COEF)-1:c>u&&(c=u+1-Math.exp((u-c)*i.RESISTANCE_COEF)):c<0?(c=0,p=(c-n)*l+a):c>u&&(c=u,p=(c-n)*l+a),{index:c,startX:p}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),i=n(485)},488:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=!1;if(e.children.length&&t.children.length){var r=e.children[e.index],o=r?r.key:"empty";if(null!==o){var i=t.children[t.index],a=i?i.key:"empty";o===a&&(n=!0)}}return n};t.default=n},489:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(490),u=n(506),c=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement("div",{className:"col-md-8 col-xs-12 pull-right"},l.createElement(u.default,{className:"ratings",movie:this.props.movie}),l.createElement(s.Table,{className:"movieDetail",selectable:!1},l.createElement(s.TableBody,{displayRowCheckbox:!1},l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"中文名稱"),l.createElement(s.TableRowColumn,null,this.props.movie.chineseTitle)),l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"英文名稱"),l.createElement(s.TableRowColumn,null,this.props.movie.englishTitle)),l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"上映日期"),l.createElement(s.TableRowColumn,null,this.props.movie.releaseDate)),l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"類型"),l.createElement(s.TableRowColumn,null,this.props.movie.type)),l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"片長"),l.createElement(s.TableRowColumn,null,this.props.movie.runTime)),l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"導演"),l.createElement(s.TableRowColumn,null,this.props.movie.director)),l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"演員"),l.createElement(s.TableRowColumn,null,this.props.movie.actor)),l.createElement(s.TableRow,null,l.createElement(s.TableRowColumn,null,"發行公司"),l.createElement(s.TableRowColumn,null,this.props.movie.launchCompany))))),l.createElement("img",{src:this.props.movie.posterUrl,style:{padding:0},className:"col-md-4 col-xs-12",alt:""}))}}]),t}(l.Component);t.default=c},506:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"render",value:function(){return l.createElement("div",{className:this.props.className},l.createElement("div",{className:"ratingWrapper"},l.createElement("img",{src:"/public/image/imdb.png"}),this.props.movie.imdbID?l.createElement("a",{href:"http://www.imdb.com/title/"+this.props.movie.imdbID},this.props.movie.imdbRating?this.props.movie.imdbRating:"N/A"):l.createElement("span",null,this.props.movie.imdbRating?this.props.movie.imdbRating:"N/A")),l.createElement("div",{className:"ratingWrapper"},l.createElement("img",{src:"/public/image/yahoo.png"}),l.createElement("a",{href:"https://tw.movies.yahoo.com/movieinfo_main.html/id="+this.props.movie.yahooId},parseInt(this.props.movie.yahooRating)?this.props.movie.yahooRating:"N/A")),l.createElement("div",{className:"ratingWrapper hide"},l.createElement("img",{src:"/public/image/rottentomatoes.png"}),this.props.movie.tomatoURL&&"N/A"!==this.props.movie.tomatoURL?l.createElement("a",{href:this.props.movie.tomatoURL},this.props.movie.tomatoRating?this.props.movie.tomatoRating:"N/A"):l.createElement("span",null,this.props.movie.tomatoRating?this.props.movie.tomatoRating:"N/A")),l.createElement("div",{className:"ratingWrapper"},l.createElement("span",{className:"pttLogo"},"PTT"),l.createElement("span",{className:"hint--bottom","aria-label":"(好雷/普雷/負雷)"},this.props.movie.goodRateArticles.length,"/",this.props.movie.normalRateArticles.length,"/",this.props.movie.badRateArticles.length)))}}]),t}(l.Component);t.default=s},507:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(508),u=n(469),c=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"getPttPushColor",value:function(e){return e?"爆"===e?"#f66":e.toLowerCase().startsWith("x")?"#666":parseInt(e)<10?"#6f6":"#ff6":""}},{key:"getArticleList",value:function(e){var t=this;return 0===e.length?l.createElement("h4",{style:{color:"#aaa",textAlign:"center",paddingTop:"18px"}},"找不到相關文章"):l.createElement(s.List,null,e.map(function(e){return l.createElement(s.ListItem,{innerDivStyle:{paddingLeft:"56px",cursor:"initial"},key:e.url,leftAvatar:l.createElement("span",{className:"pttPush",style:{color:t.getPttPushColor(e.push)}},e.push),primaryText:l.createElement("a",{target:"_blank",className:"pttArticleTitle",href:"https://www.ptt.cc"+e.url},e.title),secondaryText:l.createElement("div",{style:{color:"#aaa",lineHeight:"1em"}},e.date+" "+e.author)})}))}},{key:"render",value:function(){return l.createElement(u.Tabs,{className:"pttArticles",inkBarStyle:{background:"#aaa"},tabItemContainerStyle:{background:"black"}},l.createElement(u.Tab,{label:"好雷("+this.props.movie.goodRateArticles.length+")"},this.getArticleList(this.props.movie.goodRateArticles)),l.createElement(u.Tab,{label:"普雷("+this.props.movie.normalRateArticles.length+")"},this.getArticleList(this.props.movie.normalRateArticles)),l.createElement(u.Tab,{label:"負雷("+this.props.movie.badRateArticles.length+")"},this.getArticleList(this.props.movie.badRateArticles)),l.createElement(u.Tab,{label:"其他("+this.props.movie.otherArticles.length+")"},this.getArticleList(this.props.movie.otherArticles)))}}]),t}(l.Component);t.default=c},510:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(511),u=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={schedulesWithDistance:n.props.schedules},n}return i(t,e),a(t,[{key:"getSchedulesWithDistance",value:function(){var e=this;s.getClientGeoLocation().then(function(t){var n=t.latitude,r=t.longitude,o=e.props.schedules.map(function(e){var t=e.theaterExtension.location,o=t.lat,i=t.lng;return Object.assign({distance:s.getDistanceInKM(i,o,r,n)},e)}).sort(function(e,t){var n=e.distance,r=t.distance;return n-r});e.setState({schedulesWithDistance:o})})}},{key:"componentWillMount",value:function(){this.getSchedulesWithDistance()}},{key:"render",value:function(){return l.createElement("div",{className:"col-xs-12"},this.state.schedulesWithDistance.map(function(e){var t=e.timesStrings,n=e.theaterName,r=e.distance,o=e.theaterExtension.phone;return l.createElement("div",{key:n,style:{padding:".6em 1em 0em 1em"}},l.createElement("h5",{style:{marginBottom:"-.2em",fontSize:"16px"}},n,r&&l.createElement("span",null," - ",l.createElement("a",{href:"https://maps.google.com?q="+n,style:{fontSize:"small"}},r," km"))),l.createElement("a",{style:{marginLeft:"1px",fontSize:"small"},href:"tel:"+o},o),l.createElement("p",null,t.map(function(e){return l.createElement("span",{style:{marginRight:"1em",display:"inline-block"},key:e},e)})))}))}}]),t}(l.Component);t.default=u},511:function(e,t){"use strict";function n(e){if(!e.relatedArticles)return e;var t=[],n=[],r=[],o=[];return e.relatedArticles.forEach(function(e){var i=e.title;i.indexOf("好雷")!==-1||i.indexOf("好無雷")!==-1?t.push(e):i.indexOf("普雷")!==-1?n.push(e):i.indexOf("負雷")!==-1?r.push(e):o.push(e)}),e.goodRateArticles=t,e.normalRateArticles=n,e.badRateArticles=r,e.otherArticles=o,e}function r(e){return fetch("/graphql?query="+e.replace(/\s+/g,"")).then(function(e){return e.json()})}function o(){return new Promise(function(e,t){return window.navigator.geolocation.getCurrentPosition(function(t){e(t.coords)},t)})}function i(e,t,n,r){var o=6371,i=a(r-t),l=a(n-e),s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a(t))*Math.cos(a(r))*Math.sin(l/2)*Math.sin(l/2),u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),c=o*u;return Math.round(10*c)/10}function a(e){return e*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0}),t.classifyArticle=n,t.requestGraphQL=r,t.getClientGeoLocation=o,t.getDistanceInKM=i},512:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(513),s=n(1),u=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"render",value:function(){return s.createElement(l.default,{size:40,left:-20,top:150,status:this.props.isLoading?"loading":"hide",style:{marginLeft:"50%",zIndex:3}})}}]),t}(s.Component);t.default=u},519:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l,s=n(1),u=n(520),c=n(426),p=n(523),f=n(524),h=n(511),d=n(512),m=s.createElement(p.default,null),y="{\n            yahooId,\n            posterUrl,\n            chineseTitle,\n            englishTitle,\n            releaseDate,\n            type,\n            runTime,\n            yahooRating,\n            imdbID,\n            imdbRating,\n            tomatoURL,            \n            tomatoRating,           \n            relatedArticles{title},\n            briefSummary\n          }";!function(e){e[e.imdb=0]="imdb",e[e.yahoo=1]="yahoo",e[e.tomato=2]="tomato",e[e.ptt=3]="ptt"}(l||(l={}));var v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.select=function(e){if(n.state.selectedIndex!==e){var t;switch(e){case l.imdb:t=n.getStandardSortFunction("imdbRating");break;case l.ptt:t=function(e,t){return n.getPttRating(t)-n.getPttRating(e)};break;case l.tomato:t=n.getStandardSortFunction("tomatoRating");break;case l.yahoo:t=n.getStandardSortFunction("yahooRating")}n.setState({selectedIndex:e,sortFunction:t})}},n.getStandardSortFunction=function(e){return function(t,n){var r="N/A"===t[e]?0:t[e],o="N/A"===n[e]?0:n[e];return o-r}},n.getPttRating=function(e){return e.goodRateArticles.length-e.badRateArticles.length},n.state={selectedIndex:l.imdb,sortFunction:n.getStandardSortFunction("imdbRating"),movies:[],isLoading:!0},n}return i(t,e),a(t,[{key:"getData",value:function(e){var t=this;if(this.setState({isLoading:!0}),e){var n=JSON.stringify(e.split(",").map(function(e){return parseInt(e)}));h.requestGraphQL("\n        {\n          movies(yahooIds:"+n+")"+y+"\n        }\n        ").then(function(e){t.setState({movies:e.data.movies.map(function(e){return h.classifyArticle(e)}),isLoading:!1})})}else h.requestGraphQL("{recentMovies"+y+"}").then(function(e){t.setState({movies:e.data.recentMovies.map(function(e){return h.classifyArticle(e)}),isLoading:!1})})}},{key:"componentWillReceiveProps",value:function(e){this.getData(e.params.ids)}},{key:"componentWillMount",value:function(){this.getData(this.props.params.ids)}},{key:"render",value:function(){var e=this;return s.createElement("div",null,s.createElement(d.default,{isLoading:this.state.isLoading}),s.createElement(c.default,{zDepth:2,style:{marginBottom:".5em"}},s.createElement(u.BottomNavigation,{selectedIndex:this.state.selectedIndex},s.createElement(u.BottomNavigationItem,{label:"IMDB",icon:m,onTouchTap:function(){return e.select(l.imdb)}}),s.createElement(u.BottomNavigationItem,{label:"YAHOO",icon:m,onTouchTap:function(){return e.select(l.yahoo)}}),s.createElement(u.BottomNavigationItem,{label:"TOMATO",icon:m,onTouchTap:function(){return e.select(l.tomato)},className:"hide"}),s.createElement(u.BottomNavigationItem,{label:"PTT",icon:m,onTouchTap:function(){return e.select(l.ptt)}}))),this.state.movies.sort(this.state.sortFunction).map(function(e){return s.createElement(f.default,{key:e.yahooId,movie:e})}))}}]),t}(s.Component);t.default=v},523:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(432),l=r(a),s=n(439),u=r(s),c=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}))};c=(0,l.default)(c),c.displayName="ContentSort",c.muiName="SvgIcon",t.default=c},524:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=n(426),u=n(506),c=n(28),p="undefined"!=typeof window&&window.matchMedia("only screen and (max-width: 760px)").matches,f=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"getSmallPosterSrc",value:function(e){return p&&e?e.replace("mpost","mpost4"):e}},{key:"render",value:function(){return l.createElement(s.default,{zDepth:2,className:"row no-margin",style:{marginBottom:".5em"}},l.createElement("div",{className:"col-xs-3 col-sm-2 no-padding"},l.createElement(c.Link,{to:"/movie/"+this.props.movie.yahooId},l.createElement("img",{className:"img-responsive",src:this.getSmallPosterSrc(this.props.movie.posterUrl)}))),l.createElement("div",{className:"col-xs-9 col-sm-10",style:{paddingBottom:".5em"}},l.createElement("div",{style:{paddingTop:".5em",paddingBottom:".5em"}},l.createElement(c.Link,{style:{color:"inherit"},to:"/movie/"+this.props.movie.yahooId},l.createElement("b",null,this.props.movie.chineseTitle,"(",this.props.movie.englishTitle,")")),l.createElement("div",{className:"resultInfo"},l.createElement("span",null,"上映日:",this.props.movie.releaseDate),l.createElement("span",{className:"hidden-xs"},"類型:",this.props.movie.type),l.createElement("span",null,"片長:",this.props.movie.runTime))),l.createElement(u.default,{className:"resultRatings",movie:this.props.movie}),l.createElement("div",{className:"hidden-xs"},l.createElement("div",{className:"resultSummary",dangerouslySetInnerHTML:{__html:this.props.movie.briefSummary}}),l.createElement(c.Link,{to:"/movie/"+this.props.movie.yahooId},"繼續閱讀..."))))}}]),t}(l.Component);t.default=f},525:943});
//# sourceMappingURL=main.32ac6cedaf5ab68d75c9.js.map