webpackJsonp([0],{100:function(e,t,n){"use strict";function r(e){if(!e.relatedArticles)return e;var t=[],n=[],r=[],o=[];return e.relatedArticles.forEach(function(e){var a=e.title;-1!==a.indexOf("好雷")||-1!==a.indexOf("好無雷")?t.push(e):-1!==a.indexOf("普雷")?n.push(e):-1!==a.indexOf("負雷")?r.push(e):o.push(e)}),e.goodRateArticles=t,e.normalRateArticles=n,e.badRateArticles=r,e.otherArticles=o,e}function o(e){return fetch("/graphql?query="+e.replace(/\s+/g,"")).then(function(e){return e.json()})}function a(){return new Promise(function(e,t){return window.navigator.geolocation.getCurrentPosition(function(t){e(t.coords)},t)})}function i(e,t,n,r){var o=l(r-t),a=l(n-e),i=Math.sin(o/2)*Math.sin(o/2)+Math.cos(l(t))*Math.cos(l(r))*Math.sin(a/2)*Math.sin(a/2),c=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),s=6371*c;return Math.round(10*s)/10}function l(e){return e*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0}),t.classifyArticle=r,t.requestGraphQL=o,t.getClientGeoLocation=a,t.getDistanceInKM=i},169:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(215),c=n(0),s=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),i(t,[{key:"render",value:function(){return c.createElement(l.default,{size:40,left:-20,top:150,status:this.props.isLoading?"loading":"hide",style:{marginLeft:"50%",zIndex:3}})}}]),t}(c.Component);t.default=s},170:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),i(t,[{key:"render",value:function(){return l.createElement("div",{className:this.props.className},l.createElement("div",{className:"ratingWrapper"},l.createElement("img",{src:"/public/image/imdb.png"}),this.props.movie.imdbID?l.createElement("a",{href:"http://www.imdb.com/title/"+this.props.movie.imdbID},this.props.movie.imdbRating?this.props.movie.imdbRating:"N/A"):l.createElement("span",null,this.props.movie.imdbRating?this.props.movie.imdbRating:"N/A")),l.createElement("div",{className:"ratingWrapper"},l.createElement("img",{src:"/public/image/yahoo.png"}),l.createElement("a",{href:"https://tw.movies.yahoo.com/movieinfo_main.html/id="+this.props.movie.yahooId},parseInt(this.props.movie.yahooRating)?this.props.movie.yahooRating:"N/A")),l.createElement("div",{className:"ratingWrapper hide"},l.createElement("img",{src:"/public/image/rottentomatoes.png"}),this.props.movie.tomatoURL&&"N/A"!==this.props.movie.tomatoURL?l.createElement("a",{href:this.props.movie.tomatoURL},this.props.movie.tomatoRating?this.props.movie.tomatoRating:"N/A"):l.createElement("span",null,this.props.movie.tomatoRating?this.props.movie.tomatoRating:"N/A")),l.createElement("div",{className:"ratingWrapper"},l.createElement("span",{className:"pttLogo"},"PTT"),l.createElement("span",{className:"hint--bottom","aria-label":"(好雷/普雷/負雷)"},this.props.movie.goodRateArticles.length,"/",this.props.movie.normalRateArticles.length,"/",this.props.movie.badRateArticles.length)))}}]),t}(l.Component);t.default=c},235:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))};u=(0,l.default)(u),u.displayName="ActionSearch",u.muiName="SvgIcon",t.default=u},389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(33),a=n(394),i=n(399),l=n(401),c=n(402);t.default=r.createElement(o.Route,{component:a.default},r.createElement(o.Route,{path:"/",component:i.default},r.createElement(o.IndexRoute,{component:c.default}),r.createElement(o.Route,{path:"/movie/:id",component:l.default}),r.createElement(o.Route,{path:"/movielist/:ids",component:c.default})))},392:function(e,t){},394:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(233),s=n(234);n(168)();var u=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.muiTheme=s.default({userAgent:navigator.userAgent}),n}return a(t,e),i(t,[{key:"render",value:function(){return l.createElement(c.default,{muiTheme:this.muiTheme},this.props.children)}}]),t}(l.Component);t.default=u},395:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(397),s=n(235),u=n(236),f=n(21),p=n(41),m=n(79),h={backgroundColor:m.cyan500,color:"white"},d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.drawerToggle=null,n}return a(t,e),i(t,[{key:"render",value:function(){var e=this;return l.createElement(f.default,{zDepth:2,className:"appBar normal "+this.props.className,style:h},l.createElement(p.default,{className:"leftBtn",onTouchTap:function(){return e.drawerToggle()}},l.createElement(u.default,{color:h.color})),l.createElement("span",{className:"barTitle"},"現正上映"),l.createElement("span",{onClick:this.props.onSearchIconClick,className:"hidden-xs searchArea",style:{backgroundColor:m.cyan300}},l.createElement(s.default,{className:"searchIcon",color:h.color}),l.createElement("span",null,"搜尋電影名稱(中英皆可)")),l.createElement(p.default,{onTouchTap:this.props.onSearchIconClick,className:"visible-xs rightBtn"},l.createElement(s.default,{color:h.color})),l.createElement(c.default,{ref:function(t){return e.drawerToggle=t&&t.toggle}}))}}]),t}(l.Component);t.default=d},396:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(197);n(166);var s=n(33),u=n(235),f=n(604),p=n(608),m=n(41),h=n(21),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchText:"",dataSource:[]},n}return a(t,e),i(t,[{key:"clearSearchText",value:function(){this.setState({searchText:""}),setTimeout(function(){return document.querySelector("input").focus()},100)}},{key:"handleUpdateInput",value:function(e){this.setState({searchText:e})}},{key:"componentDidMount",value:function(){this.getDataSource()}},{key:"getDataSource",value:function(){var e=this;fetch("/graphql?query={allMoviesNames{value,text}}").then(function(e){return e.json()}).then(function(t){e.setState({dataSource:t.data.allMoviesNames})})}},{key:"onNewRequest",value:function(e,t,n){var r=[];if(-1===t){var o=e.toLowerCase();r=n?n.map(function(e){var t=e.value;return parseInt(t.key)}).slice(0,6):this.state.dataSource.filter(function(e){e.value;return-1!==e.text.toLowerCase().indexOf(o)}).map(function(e){var t=e.value;return parseInt(t)}).slice(0,6)}else r.push(parseInt(e.value));1===r.length?s.browserHistory.push("/movie/"+r):s.browserHistory.push("/movielist/"+r)}},{key:"render",value:function(){return l.createElement(h.default,{zDepth:2,className:"appBar searching "+this.props.className},l.createElement(m.default,{className:"leftBtn",onTouchTap:this.props.onBackSpaceIconClick},l.createElement(p.default,null)),l.createElement("span",{className:"hidden-xs barTitle"},"上一步"),l.createElement("span",{className:"searchArea"},l.createElement(u.default,{className:"hidden-xs searchIcon"}),l.createElement(c.default,{hintText:l.createElement("span",null,"搜尋電影名稱(中英皆可)"),dataSource:this.state.dataSource,filter:c.default.caseInsensitiveFilter,maxSearchResults:8,onNewRequest:this.onNewRequest.bind(this),searchText:this.state.searchText,onUpdateInput:this.handleUpdateInput.bind(this),menuStyle:{minWidth:"500px"},fullWidth:!0})),l.createElement(m.default,{onTouchTap:this.clearSearchText.bind(this),className:"visible-xs rightBtn"},l.createElement(f.default,null)))}}]),t}(l.Component);t.default=d},397:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(33),s=n(208),u=n(601),f=n(600),p=n(131),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClose=function(){n.setState({open:!1}),c.browserHistory.push("/")},n.toggle=function(){n.setState({open:!n.state.open})},n.state={open:!1},n}return a(t,e),i(t,[{key:"render",value:function(){var e=this;return l.createElement(s.default,{docked:!1,width:300,containerStyle:{maxWidth:"75%"},open:this.state.open,onRequestChange:function(t){return e.setState({open:t})}},l.createElement(p.List,null,l.createElement(p.ListItem,{onTouchTap:this.handleClose.bind(this),leftIcon:l.createElement(u.default,null)},"現正上映"),l.createElement(p.ListItem,{onTouchTap:this.handleClose.bind(this),leftIcon:l.createElement(f.default,null)},"戲院總覽")))}}]),t}(l.Component);t.default=m},398:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(21),s=n(170),u=n(33),f="undefined"!=typeof window&&window.matchMedia("only screen and (max-width: 760px)").matches,p=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),i(t,[{key:"getSmallPosterSrc",value:function(e){return f&&e?e.replace("mpost","mpost4"):e}},{key:"render",value:function(){return l.createElement(c.default,{zDepth:2,className:"row no-margin",style:{marginBottom:".5em"}},l.createElement("div",{className:"col-xs-3 col-sm-2 no-padding"},l.createElement(u.Link,{to:"/movie/"+this.props.movie.yahooId},l.createElement("img",{className:"img-responsive",src:this.getSmallPosterSrc(this.props.movie.posterUrl)}))),l.createElement("div",{className:"col-xs-9 col-sm-10",style:{paddingBottom:".5em"}},l.createElement("div",{style:{paddingTop:".5em",paddingBottom:".5em"}},l.createElement(u.Link,{style:{color:"inherit"},to:"/movie/"+this.props.movie.yahooId},l.createElement("b",null,this.props.movie.chineseTitle,"(",this.props.movie.englishTitle,")")),l.createElement("div",{className:"resultInfo"},l.createElement("span",null,"上映日:",this.props.movie.releaseDate),l.createElement("span",{className:"hidden-xs"},"類型:",this.props.movie.type),l.createElement("span",null,"片長:",this.props.movie.runTime))),l.createElement(s.default,{className:"resultRatings",movie:this.props.movie}),l.createElement("div",{className:"hidden-xs"},l.createElement("div",{className:"resultSummary",dangerouslySetInnerHTML:{__html:this.props.movie.briefSummary}}),l.createElement(u.Link,{to:"/movie/"+this.props.movie.yahooId},"繼續閱讀..."))))}}]),t}(l.Component);t.default=p},399:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(396),s=n(395),u=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSearchToggle=function(){n.setState({searching:!n.state.searching}),setTimeout(function(){return document.querySelector("input").focus()},100)},n.state={searching:!1},n}return a(t,e),i(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s.default,{className:this.state.searching&&"vanish",onSearchIconClick:this.handleSearchToggle.bind(this)}," >"),l.createElement(c.default,{className:!this.state.searching&&"vanish",onBackSpaceIconClick:this.handleSearchToggle.bind(this)}),l.createElement("div",{className:"container",style:{marginTop:".5em"}},this.props.children))}}]),t}(l.Component);t.default=u},400:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(222),s=n(170),u=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),i(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement("div",{className:"col-md-8 col-xs-12 pull-right"},l.createElement(s.default,{className:"ratings",movie:this.props.movie}),l.createElement(c.Table,{className:"movieDetail",selectable:!1},l.createElement(c.TableBody,{displayRowCheckbox:!1},l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"中文名稱"),l.createElement(c.TableRowColumn,null,this.props.movie.chineseTitle)),l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"英文名稱"),l.createElement(c.TableRowColumn,null,this.props.movie.englishTitle)),l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"上映日期"),l.createElement(c.TableRowColumn,null,this.props.movie.releaseDate)),l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"類型"),l.createElement(c.TableRowColumn,null,this.props.movie.type)),l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"片長"),l.createElement(c.TableRowColumn,null,this.props.movie.runTime)),l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"導演"),l.createElement(c.TableRowColumn,null,this.props.movie.director)),l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"演員"),l.createElement(c.TableRowColumn,null,this.props.movie.actor)),l.createElement(c.TableRow,null,l.createElement(c.TableRowColumn,null,"發行公司"),l.createElement(c.TableRowColumn,null,this.props.movie.launchCompany))))),l.createElement("img",{src:this.props.movie.posterUrl,style:{padding:0},className:"col-md-4 col-xs-12",alt:""}))}}]),t}(l.Component);t.default=u},401:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(136),s=n(167),u=n(21),f=n(400),p=n(403),m=n(404),h=n(100),d=n(169),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){n.setState({slideIndex:e})},n.state={movie:{},slideIndex:0,isLoading:!0},n}return a(t,e),i(t,[{key:"componentWillMount",value:function(){this.search([parseInt(this.props.params.id)])}},{key:"componentWillReceiveProps",value:function(e){this.search([parseInt(e.params.id)])}},{key:"search",value:function(e){var t=this;this.setState({isLoading:!0}),h.requestGraphQL("\n        {\n          movies(yahooIds:"+JSON.stringify(e)+"){\n            yahooId,\n            posterUrl,\n            chineseTitle,\n            englishTitle,\n            releaseDate,\n            type,\n            runTime,\n            director,\n            actor,\n            launchCompany,\n            companyUrl,\n            yahooRating,\n            imdbID,\n            imdbRating,\n            tomatoURL            ,\n            tomatoRating,\n            relatedArticles{title,push,url,date,author},\n            summary,\n            schedules {\n              theaterName,\n              timesStrings,\n              theaterExtension {\n                phone,\n                region,\n                location {\n                  lat,\n                  lng,\n                }\n              }\n            }\n          }\n        }\n    ").then(function(e){t.setState({movie:e.data.movies.map(function(e){return h.classifyArticle(e)})[0],isLoading:!1})})}},{key:"render",value:function(){return this.state.isLoading?l.createElement(d.default,{isLoading:this.state.isLoading}):l.createElement(u.default,{zDepth:2},l.createElement(c.Tabs,{onChange:this.handleChange,value:this.state.slideIndex},l.createElement(c.Tab,{label:"Detail",value:0}),l.createElement(c.Tab,{label:"Ptt",value:1}),l.createElement(c.Tab,{label:"Summary",value:2}),this.state.movie.schedules.length>0&&l.createElement(c.Tab,{label:"Time",value:3})),l.createElement(s.default,{index:this.state.slideIndex,onChangeIndex:this.handleChange},l.createElement("div",{style:{height:0===this.state.slideIndex?"auto":0}},l.createElement(f.default,{movie:this.state.movie})),l.createElement("div",{style:{height:1===this.state.slideIndex?"auto":0}},l.createElement(p.default,{movie:this.state.movie})),l.createElement("div",{className:"col-xs-12",style:{paddingTop:"1em",height:2===this.state.slideIndex?"auto":0},dangerouslySetInnerHTML:{__html:this.state.movie.summary}}),l.createElement("div",{style:{height:3===this.state.slideIndex?"auto":0}},l.createElement(m.default,{schedules:this.state.movie.schedules}))))}}]),t}(l.Component);t.default=b},402:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l,c=n(0),s=n(2),u=n(200),f=n(21),p=n(605),m=n(398),h=n(100),d=n(169),b=c.createElement(p.default,null),y="{\n            yahooId,\n            posterUrl,\n            chineseTitle,\n            englishTitle,\n            releaseDate,\n            type,\n            runTime,\n            yahooRating,\n            imdbID,\n            imdbRating,\n            tomatoURL,            \n            tomatoRating,           \n            relatedArticles{title},\n            briefSummary\n          }";!function(e){e[e.imdb=0]="imdb",e[e.yahoo=1]="yahoo",e[e.tomato=2]="tomato",e[e.ptt=3]="ptt",e[e.releaseDate=4]="releaseDate"}(l||(l={}));var v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.select=function(e){if(n.state.selectedIndex!==e){var t;switch(e){case l.imdb:t=n.getStandardSortFunction("imdbRating");break;case l.ptt:t=function(e,t){return n.getPttRating(t)-n.getPttRating(e)};break;case l.tomato:t=n.getStandardSortFunction("tomatoRating");break;case l.yahoo:t=n.getStandardSortFunction("yahooRating");break;case l.releaseDate:t=function(e,t){var n=e.releaseDate,r=t.releaseDate;return s(r).diff(n)}}n.setState({selectedIndex:e,sortFunction:t})}},n.getStandardSortFunction=function(e){return function(t,n){var r="N/A"===t[e]?0:t[e];return("N/A"===n[e]?0:n[e])-r}},n.getPttRating=function(e){return e.goodRateArticles.length-e.badRateArticles.length},n.state={selectedIndex:l.imdb,sortFunction:n.getStandardSortFunction("imdbRating"),movies:[],isLoading:!0},n}return a(t,e),i(t,[{key:"getData",value:function(e){var t=this;if(this.setState({isLoading:!0}),e){var n=JSON.stringify(e.split(",").map(function(e){return parseInt(e)}));h.requestGraphQL("\n        {\n          movies(yahooIds:"+n+")"+y+"\n        }\n        ").then(function(e){t.setState({movies:e.data.movies.map(function(e){return h.classifyArticle(e)}),isLoading:!1})})}else h.requestGraphQL("{recentMovies"+y+"}").then(function(e){t.setState({movies:e.data.recentMovies.map(function(e){return h.classifyArticle(e)}),isLoading:!1})})}},{key:"componentWillReceiveProps",value:function(e){this.getData(e.params.ids)}},{key:"componentWillMount",value:function(){this.getData(this.props.params.ids)}},{key:"render",value:function(){var e=this;return c.createElement("div",null,c.createElement(d.default,{isLoading:this.state.isLoading}),c.createElement(f.default,{zDepth:2,style:{marginBottom:".5em"}},c.createElement(u.BottomNavigation,{selectedIndex:this.state.selectedIndex},c.createElement(u.BottomNavigationItem,{label:"IMDB",icon:b,onTouchTap:function(){return e.select(l.imdb)}}),c.createElement(u.BottomNavigationItem,{label:"YAHOO",icon:b,onTouchTap:function(){return e.select(l.yahoo)}}),c.createElement(u.BottomNavigationItem,{label:"TOMATO",icon:b,onTouchTap:function(){return e.select(l.tomato)},className:"hide"}),c.createElement(u.BottomNavigationItem,{label:"PTT",icon:b,onTouchTap:function(){return e.select(l.ptt)}}),c.createElement(u.BottomNavigationItem,{label:"上映日",icon:b,onTouchTap:function(){return e.select(l.releaseDate)}}))),this.state.movies.sort(this.state.sortFunction).map(function(e){return c.createElement(m.default,{key:e.yahooId,movie:e})}))}}]),t}(c.Component);t.default=v},403:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(131),s=n(136),u=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),i(t,[{key:"getPttPushColor",value:function(e){return e?"爆"===e?"#f66":e.toLowerCase().startsWith("x")?"#666":parseInt(e)<10?"#6f6":"#ff6":""}},{key:"getArticleList",value:function(e){var t=this;return 0===e.length?l.createElement("h4",{style:{color:"#aaa",textAlign:"center",paddingTop:"18px"}},"找不到相關文章"):l.createElement(c.List,null,e.map(function(e){return l.createElement(c.ListItem,{innerDivStyle:{paddingLeft:"56px",cursor:"initial"},key:e.url,leftAvatar:l.createElement("span",{className:"pttPush",style:{color:t.getPttPushColor(e.push)}},e.push),primaryText:l.createElement("a",{target:"_blank",className:"pttArticleTitle",href:"https://www.ptt.cc"+e.url},e.title),secondaryText:l.createElement("div",{style:{color:"#aaa",lineHeight:"1em"}},e.date+" "+e.author)})}))}},{key:"render",value:function(){return l.createElement(s.Tabs,{className:"pttArticles",inkBarStyle:{background:"#aaa"},tabItemContainerStyle:{background:"black"}},l.createElement(s.Tab,{label:"好雷("+this.props.movie.goodRateArticles.length+")"},this.getArticleList(this.props.movie.goodRateArticles)),l.createElement(s.Tab,{label:"普雷("+this.props.movie.normalRateArticles.length+")"},this.getArticleList(this.props.movie.normalRateArticles)),l.createElement(s.Tab,{label:"負雷("+this.props.movie.badRateArticles.length+")"},this.getArticleList(this.props.movie.badRateArticles)),l.createElement(s.Tab,{label:"其他("+this.props.movie.otherArticles.length+")"},this.getArticleList(this.props.movie.otherArticles)))}}]),t}(l.Component);t.default=u},404:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(100),s=n(603),u=n(602),f=n(79),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={schedulesWithDistance:n.props.schedules},n}return a(t,e),i(t,[{key:"getSchedulesWithDistance",value:function(){var e=this;c.getClientGeoLocation().then(function(t){var n=t.latitude,r=t.longitude,o=e.props.schedules.map(function(e){var t=e.theaterExtension.location,o=t.lat,a=t.lng;return Object.assign({distance:c.getDistanceInKM(a,o,r,n)},e)}).sort(function(e,t){return e.distance-t.distance});e.setState({schedulesWithDistance:o})})}},{key:"componentWillMount",value:function(){this.getSchedulesWithDistance()}},{key:"render",value:function(){return l.createElement("div",{className:"col-xs-12"},this.state.schedulesWithDistance.map(function(e){var t=e.timesStrings,n=e.theaterName,r=e.distance,o=e.theaterExtension.phone;return l.createElement("div",{key:n,style:{padding:".6em 1em 0em 1em"}},l.createElement("h5",{style:{marginBottom:"-.2em",fontSize:"16px"}},n),l.createElement("a",{href:"tel:"+o,style:{marginRight:"0.5em",marginTop:"0.5em",fontSize:"small",alignItems:"center",display:"inline-flex"}},l.createElement(u.default,{color:f.grey500,viewBox:"0 0 30 24"}),o),r&&l.createElement("a",{href:"https://maps.google.com?q="+n,style:{fontSize:"small",alignItems:"center",display:"inline-flex"}},l.createElement(s.default,{color:f.grey500,viewBox:"-3 0 30 24"}),r," km"),l.createElement("div",{style:{color:"grey"}},t.map(function(e){return l.createElement("span",{style:{marginRight:"1em",display:"inline-block"},key:e},e)})))}))}}]),t}(l.Component);t.default=p},405:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(33),s=n(19),u=n(33),f=n(389);n(392);var p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.createElement(c.Router,{history:u.browserHistory},f.default)}}]),t}(l.Component),m=document.getElementById("app");s.render(l.createElement(p,null),m),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js",{scope:"/"}).then(function(e){return console.log("SW registered!",e)}).catch(function(e){return console.log("Error!",e)})},600:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"}))};u=(0,l.default)(u),u.displayName="ActionTheaters",u.muiName="SvgIcon",t.default=u},601:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"}))};u=(0,l.default)(u),u.displayName="AvMovie",u.muiName="SvgIcon",t.default=u},602:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}))};u=(0,l.default)(u),u.displayName="CommunicationCall",u.muiName="SvgIcon",t.default=u},603:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}))};u=(0,l.default)(u),u.displayName="CommunicationLocationOn",u.muiName="SvgIcon",t.default=u},604:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};u=(0,l.default)(u),u.displayName="ContentClear",u.muiName="SvgIcon",t.default=u},605:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}))};u=(0,l.default)(u),u.displayName="ContentSort",u.muiName="SvgIcon",t.default=u},608:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(18),l=r(i),c=n(16),s=r(c),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}))};u=(0,l.default)(u),u.displayName="HardwareKeyboardBackspace",u.muiName="SvgIcon",t.default=u}},[405]);
//# sourceMappingURL=main.f3699e5ca1ce979dcf4a.js.map